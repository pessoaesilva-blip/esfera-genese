<!DOCTYPE html> <html lang="pt-BR"> <head> <meta charset="UTF-8"> <title>Esfera Gênese - Beta 3</title> <style> body { margin: 0; overflow: hidden; } canvas { display: block; } </style> </head> <body> <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/examples/js/controls/PointerLockControls.js"></script> <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/examples/js/objects/Water.js"></script> <script> let scene, camera, renderer, controls; let portaLuz, autorizado=false; let clock=new THREE.Clock(); let isDay=true; let water; init(); animate(); function init() { scene = new THREE.Scene(); // Luz ambiente const ambient = new THREE.AmbientLight(0xffffff, 0.6); scene.add(ambient); const directional = new THREE.DirectionalLight(0xffffff, 0.6); directional.position.set(50,100,50); scene.add(directional); // Camera camera = new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000); camera.position.set(0,2,10); // Renderizador renderer = new THREE.WebGLRenderer({antialias:true}); renderer.setSize(window.innerWidth,window.innerHeight); document.body.appendChild(renderer.domElement); // Controles FPS controls = new THREE.PointerLockControls(camera,document.body); document.body.addEventListener('click',()=>{controls.lock();}); // Piso const pisoGeo = new THREE.PlaneGeometry(50,50); const pisoMat = new THREE.MeshStandardMaterial({color:0x333333, emissive:0x111111}); const piso = new THREE.Mesh(pisoGeo, pisoMat); piso.rotation.x=-Math.PI/2; scene.add(piso); // Símbolos no piso const loader = new THREE.FontLoader(); loader.load('https://threejs.org/examples/fonts/helvetiker_regular.typeface.json',function(font){ const textGeo = new THREE.TextGeometry("Σ E=mc² π ∫", {font:font,size:0.5,height:0.05}); const textMat = new THREE.MeshStandardMaterial({color:0xffff00, emissive:0x444400}); const textMesh = new THREE.Mesh(textGeo,textMat); textMesh.position.set(-5,0.01,-5); scene.add(textMesh); }); // Mata simples for(let i=0;i<10;i++){ const treeGeo = new THREE.ConeGeometry(0.5,2,8); const treeMat = new THREE.MeshStandardMaterial({color:0x008000}); const tree = new THREE.Mesh(treeGeo,treeMat); tree.position.set(Math.random()*20-10,1,Math.random()*20-10); scene.add(tree); } // Cachoeira animada (simples Box com ondulação) const waterGeo = new THREE.BoxGeometry(1,3,0.5); const waterMat = new THREE.MeshStandardMaterial({color:0x00aaff, transparent:true, opacity:0.7}); water = new THREE.Mesh(waterGeo,waterMat); water.position.set(8,1.5,-10); scene.add(water); // Porta de luz const portaGeo = new THREE.BoxGeometry(1,3,0.2); const portaMat = new THREE.MeshStandardMaterial({color:0x00ffff, emissive:0x00ffff}); portaLuz = new THREE.Mesh(portaGeo,portaMat); portaLuz.position.set(0,1.5,-20); scene.add(portaLuz); // Céu dia inicial scene.background = new THREE.Color(0x87CEEB); // Som ambiente const listener = new THREE.AudioListener(); camera.add(listener); const sound
